# 2주차 질문

### 1️⃣ 처음 설계한 API 명세서에 변경사항이 있었나요? 변경 되었다면 어떤 점 때문 일까요? 첫 설계의 중요성에 대해 작성해 주세요!

1주차의 요구사항 중 게시글 수정 및 삭제 시, 등록한 비밀번호를 검증해야되는 요구사항이 있었습니다. 그래서 ERD 설계 및 API 설계시 비밀번호를 고려하였으며
API 디자인 측면에서도 REST API를 위배하는 설계가 되었습니다. 2주차 요구사항에는 회원가입 및 로그인 구현으로 게시글의 비밀번호 대신 회원 API 에서 관리할 수 있게되어 
게시글의 비밀번호를 관리하지 않아도 되었습니다. 처음 설계가 중요한 이유는 API 개발 디자인이 달라지면 기존에 작업했던 API의 수정과 관련 문서 및 정책이 모두 변경이 필요하기 때문에 중요합니다.

### 2️⃣ ERD를 먼저 설계한 후 Entity를 개발했을 때 어떤 점이 도움이 되셨나요?

Entity 클래스를 먼저 설계하면 컬럼 타입 및 크기, 제약조건이 명확하지 않아 수정이 반복될 가능성이 큽니다.
ERD 설계를 먼저 진행한 후 Entity 클래스 설계를 하면 테이블 구조 및 연관관계를 쉽게 파악할 수 있고 비지니스 로직을 어떻게 구현해야 할지 그림을 그릴 수 있습니다. 
ERD의 중요성은 실무에서 더욱 활약하는데.. 특히 복잡한 도메인 구조를 이해할수 있으며 ERD를 기반으로 DB 설계를 할 수 있으며 DBA 엔지니어와 소통하는 데에도 ERD를 기반으로 
원할한 소통을 할 수 있습니다.

### 3️⃣ JWT를 사용하여 인증/인가를 구현 했을 때의 장점은 무엇일까요?

JWT는 클라이언트가 저장 주체가 되며, 요청마다 포함하기 때문에 서버에서 따로 상태관리가 필요하지 않습니다.
JWT 인증/인가를 구현 했을 때의 장점은 따로 세션을 관리하지 않아도 되며, 서버 확장(Scale-Out)이 용이합니다. 로드밸런서를 통한 여러 서버로 요청을 분산할 때에도 세션 공유 이슈가 발생하지 않습니다. 
보안적인 측면에서도 만료 시간을 설정할 수 있으며 시간이 지나면 자동으로 무효화 됩니다. 또한 서명을 포함하여 위변조를 방지할 수 있습니다.   

### 4️⃣ 반대로 JWT를 사용한 인증/인가의 한계점은 무엇일까요?

JWT는 클라이언트에서 저장되어 있기 때문에 localStorage나 sessionStorage에 저장하면 XSS 공격에 취약할 수 있습니다. 
해결방안으로는 Secure Cookie에 저장하거나, JWT 만료 시간을 줄여 주기적인 Refresh 토큰을 갱신하는 방법으로 방어할 수 있습니다.

### 5️⃣ 만약 댓글 기능이 있는 블로그에서 댓글이 달려있는 게시글을 삭제하려고 한다면 무슨 문제가 발생할까요? Database 테이블 관점에서 해결방법이 무엇일까요?

게시글에 연관 관계가 걸려있으면 게시글에 매핑 되어있는 댓글 하나라도 존재 한다면 삭제 시 에러가 발생합니다. 만약 연관관계가 걸려있지 않다면 게사글만 삭제되고
댓글 테이블에는 이미 삭제된 게시글의 댓글이 남게되어 데이터 정합성에 위배됩니다. 위의 문제에 대해 해결 방법은 삭제 여부 컬럼으로 삭제를 관리하거나 혹은 댓글 데이터 먼저 삭제 이후 게시글을 삭제할 수 있습니다.

### 6️⃣ IoC / DI 에 대해 간략하게 설명해 주세요!

+ IoC : Inversion of Control 제어의 역전을 뜻합니다.
    객체의 생성과 라이프 사이클을 개발자가 아닌 프레임워크가 관리하는 개념입니다. 
    
+ DI : Dependency Injection로 의존성 주입을 뜻합니다.
    객체 간의 의존 관계를 직접 생성하는 것이 아니라, 외부에서 주입받아 결합도를 낮추고 유지보수를 용이하게 하는 원칙입니다. 
     